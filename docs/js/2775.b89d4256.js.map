{"version":3,"file":"js/2775.b89d4256.js","mappings":"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","sources":["webpack://@radiantearth/stac-browser/./src/components/HrefActions.vue","webpack://@radiantearth/stac-browser/./src/actions/ActionPlugin.js","webpack://@radiantearth/stac-browser/./src/actions/AssetActionPlugin.js","webpack://@radiantearth/stac-browser/./src/actions/assets/CopcViewer.js","webpack://@radiantearth/stac-browser/./src/actions/assets/GeoJsonIo.js","webpack://@radiantearth/stac-browser/./assetActions.config.js","webpack://@radiantearth/stac-browser/./linkActions.config.js","webpack://@radiantearth/stac-browser/src/components/HrefActions.vue","webpack://@radiantearth/stac-browser/./src/components/HrefActions.vue?41ae","webpack://@radiantearth/stac-browser/./src/components/HrefActions.vue?3c8b","webpack://@radiantearth/stac-browser/./node_modules/bootstrap-vue/esm/components/list-group/list-group.js","webpack://@radiantearth/stac-browser/./node_modules/streamsaver-js/StreamSaver.js","webpack://@radiantearth/stac-browser/./node_modules/core-js/internals/a-possible-prototype.js","webpack://@radiantearth/stac-browser/./node_modules/core-js/internals/an-instance.js","webpack://@radiantearth/stac-browser/./node_modules/core-js/internals/classof.js","webpack://@radiantearth/stac-browser/./node_modules/core-js/internals/dom-exception-constants.js","webpack://@radiantearth/stac-browser/./node_modules/core-js/internals/error-stack-clear.js","webpack://@radiantearth/stac-browser/./node_modules/core-js/internals/function-uncurry-this-accessor.js","webpack://@radiantearth/stac-browser/./node_modules/core-js/internals/inherit-if-required.js","webpack://@radiantearth/stac-browser/./node_modules/core-js/internals/is-possible-prototype.js","webpack://@radiantearth/stac-browser/./node_modules/core-js/internals/normalize-string-argument.js","webpack://@radiantearth/stac-browser/./node_modules/core-js/internals/object-set-prototype-of.js","webpack://@radiantearth/stac-browser/./node_modules/core-js/internals/to-string-tag-support.js","webpack://@radiantearth/stac-browser/./node_modules/core-js/internals/to-string.js","webpack://@radiantearth/stac-browser/./node_modules/core-js/modules/web.dom-exception.stack.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.href)?_c('b-button-group',{staticClass:\"actions\",attrs:{\"vertical\":_vm.vertical,\"size\":_vm.size}},[(_vm.requiresAuth)?_c('b-button',{attrs:{\"variant\":\"danger\",\"id\":`popover-href-${_vm.id}-btn`},on:{\"click\":_vm.handleAuthButton}},[_c('b-icon-lock'),_vm._v(\" \"+_vm._s(_vm.$i18n.t('authentication.required'))+\" \")],1):_vm._e(),(_vm.hasDownloadButton)?_c('b-button',_vm._g(_vm._b({attrs:{\"disabled\":_vm.requiresAuth,\"variant\":\"primary\"}},'b-button',_vm.downloadProps,false),_vm.downloadEvents),[(_vm.loading)?_c('b-spinner',{attrs:{\"small\":\"\",\"variant\":\"light\"}}):(_vm.browserCanOpenFile)?_c('b-icon-box-arrow-up-right'):_c('b-icon-download'),_vm._v(\" \"+_vm._s(_vm.buttonText)+\" \")],1):_vm._e(),_c('CopyButton',{attrs:{\"variant\":\"primary\",\"copyText\":_vm.href,\"title\":_vm.href}},[_vm._v(\" \"+_vm._s(_vm.copyButtonText)+\" \")]),(_vm.hasShowButton)?_c('b-button',{attrs:{\"variant\":\"primary\"},on:{\"click\":_vm.show}},[_c('b-icon-eye',{staticClass:\"mr-1\"}),(_vm.isThumbnail)?[_vm._v(_vm._s(_vm.$t('assets.showThumbnail')))]:[_vm._v(_vm._s(_vm.$t('assets.showOnMap')))]],2):_vm._e(),_vm._l((_vm.actions),function(action){return _c('b-button',_vm._b({key:action.id,attrs:{\"variant\":\"primary\"},on:{\"click\":action.onClick}},'b-button',action.btnOptions,false),[(action.icon)?_c(action.icon,{tag:\"component\",staticClass:\"mr-1\"}):_vm._e(),_vm._v(\" \"+_vm._s(action.text)+\" \")],1)})],2):_vm._e(),(_vm.auth.length > 1)?_c('b-popover',{attrs:{\"id\":`popover-href-${_vm.id}`,\"custom-class\":\"href-auth-methods\",\"target\":`popover-href-${_vm.id}-btn`,\"triggers\":\"focus\",\"container\":\"stac-browser\",\"title\":_vm.$i18n.t('authentication.chooseMethod')}},[_c('b-list-group',_vm._l((_vm.auth),function(method,i){return _c('AuthSchemeItem',{key:i,attrs:{\"method\":method},on:{\"authenticate\":_vm.startAuth}})}),1)],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { BIconBoxArrowUpRight } from 'bootstrap-vue';\r\nimport URI from 'urijs';\r\n\r\nexport default class ActionPlugin {\r\n\r\n  constructor(id, component) {\r\n    this.id = id;\r\n    this.component = component;\r\n  }\r\n\r\n  get btnOptions() {\r\n    let href;\r\n    if (this.uri instanceof URI) {\r\n      href = this.uri.toString();\r\n    }\r\n    else if (typeof this.uri === 'string') {\r\n      href = this.uri;\r\n    }\r\n    if (href) {\r\n      return {\r\n        href,\r\n        target: '_blank'\r\n      };\r\n    }\r\n    return {};\r\n  }\r\n\r\n  get onClick() {\r\n    return () => {};\r\n  }\r\n\r\n  get uri() {\r\n    return null;\r\n  }\r\n\r\n  get show() {\r\n    return false;\r\n  }\r\n\r\n  get icon() {\r\n    return BIconBoxArrowUpRight;\r\n  }\r\n\r\n}\r\n","import ActionPlugin from './ActionPlugin';\r\n\r\nexport default class AssetActionPlugin extends ActionPlugin {\r\n\r\n  constructor(asset, component, id) {\r\n    super(id, component);\r\n    this.asset = asset;\r\n  }\r\n\r\n}\r\n","import AssetActionPlugin from \"../AssetActionPlugin\";\r\nimport URI from 'urijs';\r\nimport i18n from \"../../i18n\";\r\n\r\nexport default class CopcViewer extends AssetActionPlugin {\r\n\r\n  get show() {\r\n    return this.component.isBrowserProtocol && this.asset.type === 'application/vnd.laszip+copc';\r\n  }\r\n\r\n  get uri() {\r\n    let uri = new URI(\"https://viewer.copc.io\");\r\n    uri.addQuery('copc', this.component.href);\r\n    return uri;\r\n  }\r\n\r\n  get text() {\r\n    return i18n.t('actions.openIn', {service: 'copc.io'});\r\n  }\r\n\r\n}","import AssetActionPlugin from \"../AssetActionPlugin\";\r\nimport { geojsonMediaType } from \"../../utils\";\r\nimport URI from 'urijs';\r\nimport i18n from \"../../i18n\";\r\n\r\nexport default class GeoJsonIo extends AssetActionPlugin {\r\n\r\n  get show() {\r\n    return this.component.isBrowserProtocol && geojsonMediaType == this.asset.type;\r\n  }\r\n\r\n  get uri() {\r\n    // Docs: https://github.com/Cenergy/geojson.io/blob/main/API.md\r\n    let uri = new URI(\"https://geojson.io\");\r\n    uri.addQuery('data', `text/x-url,${this.component.href}`);\r\n    return uri;\r\n  }\r\n\r\n  get text() {\r\n    return i18n.t('actions.openIn', {service: 'geojson.io'});\r\n  }\r\n\r\n}","import CopcViewer from './src/actions/assets/CopcViewer.js';\r\nimport GeoJsonIo from './src/actions/assets/GeoJsonIo.js';\r\n//import Felt from './src/actions/assets/Felt.js';\r\n\r\nexport default {\r\n  CopcViewer,\r\n  GeoJsonIo,\r\n//Felt\r\n};","//import Felt from './src/actions/links/Felt.js';\r\n\r\nexport default {\r\n//Felt\r\n};","<template>\r\n  <div>\r\n    <b-button-group class=\"actions\" :vertical=\"vertical\" :size=\"size\" v-if=\"href\">\r\n      <b-button variant=\"danger\" v-if=\"requiresAuth\" :id=\"`popover-href-${id}-btn`\" @click=\"handleAuthButton\">\r\n        <b-icon-lock /> {{ $i18n.t('authentication.required') }}\r\n      </b-button>\r\n      <b-button v-if=\"hasDownloadButton\" :disabled=\"requiresAuth\" v-bind=\"downloadProps\" v-on=\"downloadEvents\" variant=\"primary\">\r\n        <b-spinner v-if=\"loading\" small variant=\"light\" />\r\n        <b-icon-box-arrow-up-right v-else-if=\"browserCanOpenFile\" /> \r\n        <b-icon-download v-else />\r\n        {{ buttonText }}\r\n      </b-button>\r\n      <CopyButton variant=\"primary\" :copyText=\"href\" :title=\"href\">\r\n        {{ copyButtonText }}\r\n      </CopyButton>\r\n      <b-button v-if=\"hasShowButton\" @click=\"show\" variant=\"primary\">\r\n        <b-icon-eye class=\"mr-1\" />\r\n        <template v-if=\"isThumbnail\">{{ $t('assets.showThumbnail') }}</template>\r\n        <template v-else>{{ $t('assets.showOnMap') }}</template>\r\n      </b-button>\r\n      <b-button v-for=\"action of actions\" v-bind=\"action.btnOptions\" :key=\"action.id\" variant=\"primary\" @click=\"action.onClick\">\r\n        <component v-if=\"action.icon\" :is=\"action.icon\" class=\"mr-1\" />\r\n        {{ action.text }}\r\n      </b-button>\r\n    </b-button-group>\r\n    \r\n    <b-popover\r\n      v-if=\"auth.length > 1\"\r\n      :id=\"`popover-href-${id}`\" custom-class=\"href-auth-methods\" :target=\"`popover-href-${id}-btn`\"\r\n      triggers=\"focus\" container=\"stac-browser\" :title=\"$i18n.t('authentication.chooseMethod')\"\r\n    >\r\n      <b-list-group>\r\n        <AuthSchemeItem v-for=\"(method, i) in auth\" :key=\"i\" :method=\"method\" @authenticate=\"startAuth\" />\r\n      </b-list-group>\r\n    </b-popover>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport { BIconBoxArrowUpRight, BIconDownload, BIconEye, BIconLock, BListGroup, BPopover, BSpinner } from 'bootstrap-vue';\r\nimport Description from './Description.vue';\r\nimport STAC from '../models/stac';\r\nimport Utils, { browserProtocols, imageMediaTypes, mapMediaTypes } from '../utils';\r\nimport { mapGetters, mapState } from 'vuex';\r\nimport AssetActions from '../../assetActions.config';\r\nimport LinkActions from '../../linkActions.config';\r\nimport { stacRequestOptions } from '../store/utils';\r\nimport URI from 'urijs';\r\nimport AuthUtils from './auth/utils';\r\n\r\nlet i = 0;\r\n\r\nexport default {\r\n  name: 'HrefActions',\r\n  components: {\r\n    AuthSchemeItem: () => import('./AuthSchemeItem.vue'),\r\n    BIconBoxArrowUpRight,\r\n    BIconDownload,\r\n    BIconEye,\r\n    BIconLock,\r\n    BListGroup,\r\n    BPopover,\r\n    BSpinner,\r\n    CopyButton: () => import('./CopyButton.vue'),\r\n    Description,\r\n    Metadata: () => import('./Metadata.vue')\r\n  },\r\n  props: {\r\n    data: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    isAsset: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    vertical: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    size: {\r\n      type: String,\r\n      default: 'md'\r\n    },\r\n    shown: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    auth: {\r\n      type: Array,\r\n      default: () => ([])\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      id: i++,\r\n      loading: false\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState(['pathPrefix', 'requestHeaders']),\r\n    ...mapGetters(['getRequestUrl']),\r\n    ...mapGetters('auth', ['isLoggedIn']),\r\n    requiresAuth() {\r\n      return !this.isLoggedIn && this.auth.length > 0;\r\n    },\r\n    actions() {\r\n      return Object.entries(this.isAsset ? AssetActions : LinkActions)\r\n        .map(([id, plugin]) => new plugin(this.data, this, id))\r\n        .filter(plugin => plugin.show);\r\n    },\r\n    canShow() {\r\n      // We need to know the type, otherwise we don't even try to show it\r\n      if (typeof this.data.type !== 'string') {\r\n        return false;\r\n      }\r\n      // If the tile renderer is a tile server, we can't really know what it supports so we pass all images\r\n      else if (this.tileRendererType === 'server' && imageMediaTypes.includes(this.data.type)) {\r\n        return true;\r\n      }\r\n      // Don't pass GDAL VFS URIs to client-side tile renderer: https://github.com/radiantearth/stac-browser/issues/116\r\n      else if (this.isGdalVfs && this.tileRendererType === 'client') {\r\n        return false;\r\n      }\r\n      // Only http(s) links and relative links are supported\r\n      else if (!this.isBrowserProtocol) {\r\n        return false;\r\n      }\r\n      // Otherwise, all images that a browser can read are supported + JSON\r\n      else if (mapMediaTypes.includes(this.data.type)) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    hasShowButton() {\r\n      return this.isAsset && this.canShow && !this.shown;\r\n    },\r\n    hasDownloadButton() {\r\n      return this.isAsset && this.isBrowserProtocol;\r\n    },\r\n    downloadEvents() {\r\n      if (this.hasDownloadButton && this.useAltDownloadMethod) {\r\n        return {\r\n          click: async (event) => {\r\n            event.preventDefault();\r\n            this.altDownload();\r\n          }\r\n        };\r\n      }\r\n      return {};\r\n    },\r\n    filename() {\r\n      if (typeof this.data['file:local_path'] === 'string') {\r\n        return URI(this.data['file:local_path']).filename();\r\n      }\r\n      return this.parsedHref.filename();\r\n    },\r\n    downloadProps() {\r\n      if (this.hasDownloadButton && !this.useAltDownloadMethod) {\r\n        const props = {\r\n          href: this.href,\r\n          target: '_blank',\r\n        };\r\n        if (!this.browserCanOpenFile) {\r\n          props.download = this.filename;\r\n        }\r\n        return props;\r\n      }\r\n      return {};\r\n    },\r\n    useAltDownloadMethod() {\r\n      if (!this.isBrowserProtocol || !window.isSecureContext) {\r\n        return false;\r\n      }\r\n      else if (typeof this.data.method === 'string' && this.method.toUpperCase() !== 'GET') {\r\n        return true;\r\n      }\r\n      else if (Utils.size(this.data.headers) > 0 || Utils.size(this.requestHeaders) > 0) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    protocol() {\r\n      if (typeof this.href === 'string') {\r\n        if (this.href) {\r\n          let match = this.href.match(/^(\\w+):\\/\\//);\r\n          if (match) {\r\n            return match[1].toLowerCase();\r\n          }\r\n        }\r\n      }\r\n      return null;\r\n    },\r\n    isBrowserProtocol() {\r\n      return (!this.protocol && !this.isGdalVfs) || browserProtocols.includes(this.protocol);\r\n    },\r\n    isThumbnail() {\r\n      if (this.isAsset) {\r\n        return Array.isArray(this.data.roles) && this.data.roles.includes('thumbnail') && !this.data.roles.includes('overview');\r\n      }\r\n      else {\r\n        return this.data.rel === 'preview' && Utils.canBrowserDisplayImage(this.data);\r\n      }\r\n    },\r\n    isGdalVfs() {\r\n      return Utils.isGdalVfsUri(this.href);\r\n    },\r\n    href() {\r\n      if (typeof this.data.href !== 'string') {\r\n        return null;\r\n      }\r\n      let baseUrl = null;\r\n      if (this.context instanceof STAC) {\r\n        baseUrl = this.context.getAbsoluteUrl();\r\n      }\r\n      try {\r\n        return this.getRequestUrl(this.data.href, baseUrl);\r\n      } catch (e) {\r\n        return this.data.href;\r\n      }\r\n    },\r\n    parsedHref() {\r\n      return URI(this.href);\r\n    },\r\n    from() {\r\n      if (this.isGdalVfs) {\r\n        let type = this.href.match(/^\\/vsi([a-z\\d]+)(_streaming)?\\//);\r\n        return this.protocolName(type);\r\n      }\r\n      else {\r\n        return this.protocolName(this.protocol);\r\n      }\r\n    },\r\n    browserCanOpenFile() {\r\n      if (this.isGdalVfs || this.useAltDownloadMethod)  {\r\n        return false;\r\n      }\r\n      if (Utils.canBrowserDisplayImage(this.data)) {\r\n        return true;\r\n      }\r\n      else if (typeof this.data.type === 'string') {\r\n        switch(this.data.type.toLowerCase()) {\r\n          case 'text/html':\r\n          case 'application/xhtml+xml':\r\n          case 'text/plain':\r\n          case 'application/pdf':\r\n            return true;\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n    buttonText() {\r\n      if (this.browserCanOpenFile && this.isBrowserProtocol) {\r\n        return this.$t('open');\r\n      }\r\n      let where = (!this.isBrowserProtocol && this.from) ? 'withSource' : 'generic';\r\n      return this.$t(`assets.download.${where}`, {source: this.from});\r\n    },\r\n    copyButtonText() {\r\n      let what = this.isGdalVfs ? 'copyGdalVfsUrl' : 'copyUrl';\r\n      let where = (!this.isBrowserProtocol && this.from) ? 'withSource' : 'generic';\r\n      return this.$t(`assets.${what}.${where}`, {source: this.from});\r\n    }\r\n  },\r\n  methods: {\r\n    async altDownload() {\r\n      if (!window.isSecureContext) {\r\n        window.location.href = this.href;\r\n      }\r\n\r\n      try {\r\n        this.loading = true;\r\n        const StreamSaver = require('streamsaver-js');\r\n\r\n        const uri = URI(window.origin.toString());\r\n        uri.path(Utils.removeTrailingSlash(this.pathPrefix) + '/mitm.html');\r\n        StreamSaver.mitm = uri.toString();\r\n\r\n        const link = Object.assign({}, this.data, {href: this.href});\r\n        const options = stacRequestOptions(this.$store, link);\r\n\r\n        // Convert from axios to fetch\r\n        const url = options.url;\r\n        delete options.url;\r\n        if (typeof options.data !== 'undefined') {\r\n          options.body = options.data;\r\n          delete options.data;\r\n        }\r\n\r\n        //options.credentials = 'include';\r\n\r\n        // Use fetch because stacRequest uses axios\r\n        // and axios doesn't support responseType: 'stream'\r\n        const res = await fetch(url, options);\r\n        if (res.status >= 400) {\r\n          let msg;\r\n          switch(res.status) {\r\n            case 401:\r\n              msg = this.$t('errors.unauthorized');\r\n              break;\r\n            case 403:\r\n              msg = this.$t('errors.authFailed');\r\n              break;\r\n            case 404:\r\n              msg = this.$t('errors.notFound');\r\n              break;\r\n            case 500:\r\n              msg = this.$t('errors.serverError');\r\n              break;\r\n            default:\r\n              msg = this.$t('errors.networkError');\r\n              break;\r\n          }\r\n          throw new Error(msg);\r\n        }\r\n\r\n        let filename = this.filename;\r\n        const contentDisposition = res.headers.get('content-disposition');\r\n        if (typeof contentDisposition === 'string') {\r\n          const parts = contentDisposition.match(/filename=(?:\"|)([^\"]+)(?:\"|)(?:;|$)/);\r\n          if (parts) {\r\n            filename = parts[1];\r\n          }\r\n        }\r\n        const fileStream = StreamSaver.createWriteStream(filename);\r\n\r\n        // Prevent the user from leaving the page while the download is in progress\r\n        // As this is not a normal download a user need to stay on the page for the download to complete\r\n        window.addEventListener('unload', () => {\r\n          if (this.loading) {\r\n            fileStream.abort();\r\n          }\r\n        });\r\n        window.addEventListener('beforeunload', (evt) => {\r\n          if (this.loading) {\r\n            evt.preventDefault();\r\n          }\r\n        });\r\n\r\n        await res.body.pipeTo(fileStream);\r\n      } catch (error) {\r\n        if (error instanceof DOMException && error.name === 'AbortError') {\r\n          // When the download was aborted, we don't want to show an error\r\n          return;\r\n        }\r\n        this.$store.commit('showGlobalError', { error });\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    protocolName(protocol) {\r\n      if (typeof protocol !== 'string') {\r\n        return '';\r\n      }\r\n      switch(protocol.toLowerCase()) {\r\n        case 's3':\r\n          try {\r\n            const key = `protocol.s3.${this.parsedHref.domain()}`;\r\n            if (this.$te(key)) {\r\n              return this.$t(key);\r\n            }\r\n          } catch (e) {\r\n            // Fall back to the default\r\n          }\r\n          return this.$t('protocol.s3.default');\r\n        case 'abfs':\r\n        case 'abfss':\r\n          return this.$t('protocol.azure');\r\n        case 'gcs':\r\n          return this.$t('protocol.gcs');\r\n        case 'ftp':\r\n          return this.$t('protocol.ftp');\r\n        case 'oss':\r\n          return this.$t('protocol.oss');\r\n        case 'file':\r\n          return this.$t('protocol.file');\r\n      }\r\n      return '';\r\n    },\r\n    show() {\r\n      let data = Object.assign({}, this.data);\r\n      // Override asset href with absolute URL if not a GDAL VFS\r\n      if (!this.isGdalVfs) {\r\n        data.href = this.href;\r\n      }\r\n      this.$emit('show', data, this.id, this.isThumbnail);\r\n    },\r\n    handleAuthButton() {\r\n      if (this.auth.length === 1) {\r\n        this.startAuth(this.auth[0]);\r\n      }\r\n    },\r\n    async startAuth(method) {\r\n      if (AuthUtils.isSupported(method, this.$store.state)) {\r\n        await this.$store.dispatch('config', { authConfig: method });\r\n        await this.$store.dispatch('auth/requestLogin');\r\n      }\r\n      else {\r\n        const name = this.$i18n.t(`authentication.schemeTypes.${method.type}`, method);\r\n        const message = this.$i18n.t('authentication.unsupportedLong', {method: name});\r\n        this.$root.$emit('error', new Error(message), this.$i18n.t('authentication.unsupported'));\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n#stac-browser .href-auth-methods .popover-body {\r\n  padding: 0;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HrefActions.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HrefActions.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./HrefActions.vue?vue&type=template&id=4633cd88\"\nimport script from \"./HrefActions.vue?vue&type=script&lang=js\"\nexport * from \"./HrefActions.vue?vue&type=script&lang=js\"\nimport style0 from \"./HrefActions.vue?vue&type=style&index=0&id=4633cd88&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { extend, mergeData } from '../../vue';\nimport { NAME_LIST_GROUP } from '../../constants/components';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_BOOLEAN_STRING, PROP_TYPE_STRING } from '../../constants/props';\nimport { isString } from '../../utils/inspect';\nimport { makeProp, makePropsConfigurable } from '../../utils/props'; // --- Props ---\n\nexport var props = makePropsConfigurable({\n  flush: makeProp(PROP_TYPE_BOOLEAN, false),\n  horizontal: makeProp(PROP_TYPE_BOOLEAN_STRING, false),\n  tag: makeProp(PROP_TYPE_STRING, 'div')\n}, NAME_LIST_GROUP); // --- Main component ---\n// @vue/component\n\nexport var BListGroup = /*#__PURE__*/extend({\n  name: NAME_LIST_GROUP,\n  functional: true,\n  props: props,\n  render: function render(h, _ref) {\n    var props = _ref.props,\n        data = _ref.data,\n        children = _ref.children;\n    var horizontal = props.horizontal === '' ? true : props.horizontal;\n    horizontal = props.flush ? false : horizontal;\n    var componentData = {\n      staticClass: 'list-group',\n      class: _defineProperty({\n        'list-group-flush': props.flush,\n        'list-group-horizontal': horizontal === true\n      }, \"list-group-horizontal-\".concat(horizontal), isString(horizontal))\n    };\n    return h(props.tag, mergeData(data, componentData), children);\n  }\n});","/*! streamsaver. MIT License. Jimmy WÃ¤rting <https://jimmy.warting.se/opensource> */\r\n\r\n/* global chrome location ReadableStream define MessageChannel TransformStream */\r\n\r\n;((name, definition) => {\r\n  typeof module !== 'undefined'\r\n    ? module.exports = definition()\r\n    : typeof define === 'function' && typeof define.amd === 'object'\r\n      ? define(definition)\r\n      : this[name] = definition()\r\n})('streamSaver', () => {\r\n  'use strict'\r\n\r\n  const global = typeof window === 'object' ? window : this\r\n  if (!global.HTMLElement) console.warn('streamsaver is meant to run on browsers main thread')\r\n\r\n  let mitmTransporter = null\r\n  let supportsTransferable = false\r\n  const test = fn => { try { fn() } catch (e) {} }\r\n  const ponyfill = global.WebStreamsPolyfill || {}\r\n  const isSecureContext = global.isSecureContext\r\n  // TODO: Must come up with a real detection test (#69)\r\n  let useBlobFallback = /constructor/i.test(global.HTMLElement) || !!global.safari || !!global.WebKitPoint\r\n  const downloadStrategy = isSecureContext || 'MozAppearance' in document.documentElement.style\r\n    ? 'iframe'\r\n    : 'navigate'\r\n\r\n  const streamSaver = {\r\n    createWriteStream,\r\n    WritableStream: global.WritableStream || ponyfill.WritableStream,\r\n    supported: true,\r\n    version: { full: '2.0.5', major: 2, minor: 0, dot: 5 },\r\n    mitm: 'https://jimmywarting.github.io/StreamSaver.js/mitm.html?version=2.0.0'\r\n  }\r\n\r\n  /**\r\n   * create a hidden iframe and append it to the DOM (body)\r\n   *\r\n   * @param  {string} src page to load\r\n   * @return {HTMLIFrameElement} page to load\r\n   */\r\n  function makeIframe (src) {\r\n    if (!src) throw new Error('meh')\r\n    const iframe = document.createElement('iframe')\r\n    iframe.hidden = true\r\n    iframe.src = src\r\n    iframe.loaded = false\r\n    iframe.name = 'iframe'\r\n    iframe.isIframe = true\r\n    iframe.postMessage = (...args) => iframe.contentWindow.postMessage(...args)\r\n    iframe.addEventListener('load', () => {\r\n      iframe.loaded = true\r\n    }, { once: true })\r\n    document.body.appendChild(iframe)\r\n    return iframe\r\n  }\r\n\r\n  /**\r\n   * create a popup that simulates the basic things\r\n   * of what a iframe can do\r\n   *\r\n   * @param  {string} src page to load\r\n   * @return {object}     iframe like object\r\n   */\r\n  function makePopup (src) {\r\n    const options = 'width=200,height=100'\r\n    const delegate = document.createDocumentFragment()\r\n    const popup = {\r\n      frame: global.open(src, 'popup', options),\r\n      loaded: false,\r\n      isIframe: false,\r\n      isPopup: true,\r\n      remove () { popup.frame.close() },\r\n      addEventListener (...args) { delegate.addEventListener(...args) },\r\n      dispatchEvent (...args) { delegate.dispatchEvent(...args) },\r\n      removeEventListener (...args) { delegate.removeEventListener(...args) },\r\n      postMessage (...args) { popup.frame.postMessage(...args) }\r\n    }\r\n\r\n    const onReady = evt => {\r\n      if (evt.source === popup.frame) {\r\n        popup.loaded = true\r\n        global.removeEventListener('message', onReady)\r\n        popup.dispatchEvent(new Event('load'))\r\n      }\r\n    }\r\n\r\n    global.addEventListener('message', onReady)\r\n\r\n    return popup\r\n  }\r\n\r\n  try {\r\n    // We can't look for service worker since it may still work on http\r\n    new Response(new ReadableStream())\r\n    if (isSecureContext && !('serviceWorker' in navigator)) {\r\n      useBlobFallback = true\r\n    }\r\n  } catch (err) {\r\n    useBlobFallback = true\r\n  }\r\n\r\n  test(() => {\r\n    // Transferable stream was first enabled in chrome v73 behind a flag\r\n    const { readable } = new TransformStream()\r\n    const mc = new MessageChannel()\r\n    mc.port1.postMessage(readable, [readable])\r\n    mc.port1.close()\r\n    mc.port2.close()\r\n    supportsTransferable = true\r\n    // Freeze TransformStream object (can only work with native)\r\n    Object.defineProperty(streamSaver, 'TransformStream', {\r\n      configurable: false,\r\n      writable: false,\r\n      value: TransformStream\r\n    })\r\n  })\r\n\r\n  function loadTransporter () {\r\n    if (!mitmTransporter) {\r\n      mitmTransporter = isSecureContext && !'MozAppearance' in document.documentElement.style\r\n        ? makeIframe(streamSaver.mitm)\r\n        : makePopup(streamSaver.mitm)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param  {string} filename filename that should be used\r\n   * @param  {object} options  [description]\r\n   * @param  {number} size     deprecated\r\n   * @return {WritableStream<Uint8Array>}\r\n   */\r\n  function createWriteStream (filename, options, size) {\r\n    let opts = {\r\n      size: null,\r\n      pathname: null,\r\n      writableStrategy: undefined,\r\n      readableStrategy: undefined\r\n    }\r\n\r\n    let bytesWritten = 0 // by StreamSaver.js (not the service worker)\r\n    let downloadUrl = null\r\n    let channel = null\r\n    let ts = null\r\n\r\n    // normalize arguments\r\n    if (Number.isFinite(options)) {\r\n      [ size, options ] = [ options, size ]\r\n      console.warn('[StreamSaver] Deprecated pass an object as 2nd argument when creating a write stream')\r\n      opts.size = size\r\n      opts.writableStrategy = options\r\n    } else if (options && options.highWaterMark) {\r\n      console.warn('[StreamSaver] Deprecated pass an object as 2nd argument when creating a write stream')\r\n      opts.size = size\r\n      opts.writableStrategy = options\r\n    } else {\r\n      opts = options || {}\r\n    }\r\n    if (!useBlobFallback) {\r\n      loadTransporter()\r\n\r\n      channel = new MessageChannel()\r\n\r\n      // Make filename RFC5987 compatible\r\n      filename = encodeURIComponent(filename.replace(/\\//g, ':'))\r\n        .replace(/['()]/g, escape)\r\n        .replace(/\\*/g, '%2A')\r\n\r\n      const response = {\r\n        transferringReadable: supportsTransferable,\r\n        pathname: opts.pathname || Math.random().toString().slice(-6) + '/' + filename,\r\n        headers: {\r\n          'Content-Type': 'application/octet-stream; charset=utf-8',\r\n          'Content-Disposition': \"attachment; filename*=UTF-8''\" + filename\r\n        }\r\n      }\r\n\r\n      if (opts.size) {\r\n        response.headers['Content-Length'] = opts.size\r\n      }\r\n\r\n      const args = [ response, '*', [ channel.port2 ] ]\r\n\r\n      if (supportsTransferable) {\r\n        const transformer = downloadStrategy === 'iframe' ? undefined : {\r\n          // This transformer & flush method is only used by insecure context.\r\n          transform (chunk, controller) {\r\n            if (!(chunk instanceof Uint8Array)) {\r\n              throw new TypeError('Can only write Uint8Arrays')\r\n            }\r\n            bytesWritten += chunk.length\r\n            controller.enqueue(chunk)\r\n\r\n            if (downloadUrl) {\r\n              location.href = downloadUrl\r\n              downloadUrl = null\r\n            }\r\n          },\r\n          flush () {\r\n            if (downloadUrl) {\r\n              location.href = downloadUrl\r\n            }\r\n          }\r\n        }\r\n        ts = new streamSaver.TransformStream(\r\n          transformer,\r\n          opts.writableStrategy,\r\n          opts.readableStrategy\r\n        )\r\n        const readableStream = ts.readable\r\n\r\n        channel.port1.postMessage({ readableStream }, [ readableStream ])\r\n      }\r\n\r\n      channel.port1.onmessage = evt => {\r\n        // Service worker sent us a link that we should open.\r\n        if (evt.data.download) {\r\n          // Special treatment for popup...\r\n          if (downloadStrategy === 'navigate') {\r\n            mitmTransporter.remove()\r\n            mitmTransporter = null\r\n            if (bytesWritten) {\r\n              location.href = evt.data.download\r\n            } else {\r\n              downloadUrl = evt.data.download\r\n            }\r\n          } else {\r\n            if (mitmTransporter.isPopup) {\r\n              mitmTransporter.remove()\r\n              mitmTransporter = null\r\n              // Special case for firefox, they can keep sw alive with fetch\r\n              if (downloadStrategy === 'iframe') {\r\n                makeIframe(streamSaver.mitm)\r\n              }\r\n            }\r\n\r\n            // We never remove this iframes b/c it can interrupt saving\r\n            makeIframe(evt.data.download)\r\n          }\r\n        } else if (evt.data.abort) {\r\n          chunks = []\r\n          channel.port1.postMessage('abort') //send back so controller is aborted\r\n          channel.port1.onmessage = null\r\n          channel.port1.close()\r\n          channel.port2.close()\r\n          channel = null\r\n        }\r\n      }\r\n\r\n      if (mitmTransporter.loaded) {\r\n        mitmTransporter.postMessage(...args)\r\n      } else {\r\n        mitmTransporter.addEventListener('load', () => {\r\n          mitmTransporter.postMessage(...args)\r\n        }, { once: true })\r\n      }\r\n    }\r\n\r\n    let chunks = []\r\n\r\n    return (!useBlobFallback && ts && ts.writable) || new streamSaver.WritableStream({\r\n      write (chunk) {\r\n        if (!(chunk instanceof Uint8Array)) {\r\n          throw new TypeError('Can only write Uint8Arrays')\r\n        }\r\n        if (useBlobFallback) {\r\n          // Safari... The new IE6\r\n          // https://github.com/jimmywarting/StreamSaver.js/issues/69\r\n          //\r\n          // even though it has everything it fails to download anything\r\n          // that comes from the service worker..!\r\n          chunks.push(chunk)\r\n          return\r\n        }\r\n\r\n        // is called when a new chunk of data is ready to be written\r\n        // to the underlying sink. It can return a promise to signal\r\n        // success or failure of the write operation. The stream\r\n        // implementation guarantees that this method will be called\r\n        // only after previous writes have succeeded, and never after\r\n        // close or abort is called.\r\n\r\n        // TODO: Kind of important that service worker respond back when\r\n        // it has been written. Otherwise we can't handle backpressure\r\n        // EDIT: Transferable streams solves this...\r\n        channel.port1.postMessage(chunk)\r\n        bytesWritten += chunk.length\r\n\r\n        if (downloadUrl) {\r\n          location.href = downloadUrl\r\n          downloadUrl = null\r\n        }\r\n      },\r\n      close () {\r\n        if (useBlobFallback) {\r\n          const blob = new Blob(chunks, { type: 'application/octet-stream; charset=utf-8' })\r\n          const link = document.createElement('a')\r\n          link.href = URL.createObjectURL(blob)\r\n          link.download = filename\r\n          link.click()\r\n        } else {\r\n          channel.port1.postMessage('end')\r\n        }\r\n      },\r\n      abort () {\r\n        chunks = []\r\n        channel.port1.postMessage('abort')\r\n        channel.port1.onmessage = null\r\n        channel.port1.close()\r\n        channel.port2.close()\r\n        channel = null\r\n      }\r\n    }, opts.writableStrategy)\r\n  }\r\n\r\n  return streamSaver\r\n})\r\n","'use strict';\nvar isPossiblePrototype = require('../internals/is-possible-prototype');\n\nvar $String = String;\nvar $TypeError = TypeError;\n\nmodule.exports = function (argument) {\n  if (isPossiblePrototype(argument)) return argument;\n  throw new $TypeError(\"Can't set \" + $String(argument) + ' as a prototype');\n};\n","'use strict';\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (it, Prototype) {\n  if (isPrototypeOf(Prototype, it)) return it;\n  throw new $TypeError('Incorrect invocation');\n};\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar isCallable = require('../internals/is-callable');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar $Object = Object;\n\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) === 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = $Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) === 'Object' && isCallable(O.callee) ? 'Arguments' : result;\n};\n","'use strict';\nmodule.exports = {\n  IndexSizeError: { s: 'INDEX_SIZE_ERR', c: 1, m: 1 },\n  DOMStringSizeError: { s: 'DOMSTRING_SIZE_ERR', c: 2, m: 0 },\n  HierarchyRequestError: { s: 'HIERARCHY_REQUEST_ERR', c: 3, m: 1 },\n  WrongDocumentError: { s: 'WRONG_DOCUMENT_ERR', c: 4, m: 1 },\n  InvalidCharacterError: { s: 'INVALID_CHARACTER_ERR', c: 5, m: 1 },\n  NoDataAllowedError: { s: 'NO_DATA_ALLOWED_ERR', c: 6, m: 0 },\n  NoModificationAllowedError: { s: 'NO_MODIFICATION_ALLOWED_ERR', c: 7, m: 1 },\n  NotFoundError: { s: 'NOT_FOUND_ERR', c: 8, m: 1 },\n  NotSupportedError: { s: 'NOT_SUPPORTED_ERR', c: 9, m: 1 },\n  InUseAttributeError: { s: 'INUSE_ATTRIBUTE_ERR', c: 10, m: 1 },\n  InvalidStateError: { s: 'INVALID_STATE_ERR', c: 11, m: 1 },\n  SyntaxError: { s: 'SYNTAX_ERR', c: 12, m: 1 },\n  InvalidModificationError: { s: 'INVALID_MODIFICATION_ERR', c: 13, m: 1 },\n  NamespaceError: { s: 'NAMESPACE_ERR', c: 14, m: 1 },\n  InvalidAccessError: { s: 'INVALID_ACCESS_ERR', c: 15, m: 1 },\n  ValidationError: { s: 'VALIDATION_ERR', c: 16, m: 0 },\n  TypeMismatchError: { s: 'TYPE_MISMATCH_ERR', c: 17, m: 1 },\n  SecurityError: { s: 'SECURITY_ERR', c: 18, m: 1 },\n  NetworkError: { s: 'NETWORK_ERR', c: 19, m: 1 },\n  AbortError: { s: 'ABORT_ERR', c: 20, m: 1 },\n  URLMismatchError: { s: 'URL_MISMATCH_ERR', c: 21, m: 1 },\n  QuotaExceededError: { s: 'QUOTA_EXCEEDED_ERR', c: 22, m: 1 },\n  TimeoutError: { s: 'TIMEOUT_ERR', c: 23, m: 1 },\n  InvalidNodeTypeError: { s: 'INVALID_NODE_TYPE_ERR', c: 24, m: 1 },\n  DataCloneError: { s: 'DATA_CLONE_ERR', c: 25, m: 1 }\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nvar $Error = Error;\nvar replace = uncurryThis(''.replace);\n\nvar TEST = (function (arg) { return String(new $Error(arg).stack); })('zxcasd');\n// eslint-disable-next-line redos/no-vulnerable -- safe\nvar V8_OR_CHAKRA_STACK_ENTRY = /\\n\\s*at [^:]*:[^\\n]*/;\nvar IS_V8_OR_CHAKRA_STACK = V8_OR_CHAKRA_STACK_ENTRY.test(TEST);\n\nmodule.exports = function (stack, dropEntries) {\n  if (IS_V8_OR_CHAKRA_STACK && typeof stack == 'string' && !$Error.prepareStackTrace) {\n    while (dropEntries--) stack = replace(stack, V8_OR_CHAKRA_STACK_ENTRY, '');\n  } return stack;\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar aCallable = require('../internals/a-callable');\n\nmodule.exports = function (object, key, method) {\n  try {\n    // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n    return uncurryThis(aCallable(Object.getOwnPropertyDescriptor(object, key)[method]));\n  } catch (error) { /* empty */ }\n};\n","'use strict';\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    isCallable(NewTarget = dummy.constructor) &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","'use strict';\nvar isObject = require('../internals/is-object');\n\nmodule.exports = function (argument) {\n  return isObject(argument) || argument === null;\n};\n","'use strict';\nvar toString = require('../internals/to-string');\n\nmodule.exports = function (argument, $default) {\n  return argument === undefined ? arguments.length < 2 ? '' : $default : toString(argument);\n};\n","'use strict';\n/* eslint-disable no-proto -- safe */\nvar uncurryThisAccessor = require('../internals/function-uncurry-this-accessor');\nvar isObject = require('../internals/is-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n// eslint-disable-next-line es/no-object-setprototypeof -- safe\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    setter = uncurryThisAccessor(Object.prototype, '__proto__', 'set');\n    setter(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    requireObjectCoercible(O);\n    aPossiblePrototype(proto);\n    if (!isObject(O)) return O;\n    if (CORRECT_SETTER) setter(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","'use strict';\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","'use strict';\nvar classof = require('../internals/classof');\n\nvar $String = String;\n\nmodule.exports = function (argument) {\n  if (classof(argument) === 'Symbol') throw new TypeError('Cannot convert a Symbol value to a string');\n  return $String(argument);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar defineProperty = require('../internals/object-define-property').f;\nvar hasOwn = require('../internals/has-own-property');\nvar anInstance = require('../internals/an-instance');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar normalizeStringArgument = require('../internals/normalize-string-argument');\nvar DOMExceptionConstants = require('../internals/dom-exception-constants');\nvar clearErrorStack = require('../internals/error-stack-clear');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar IS_PURE = require('../internals/is-pure');\n\nvar DOM_EXCEPTION = 'DOMException';\nvar Error = getBuiltIn('Error');\nvar NativeDOMException = getBuiltIn(DOM_EXCEPTION);\n\nvar $DOMException = function DOMException() {\n  anInstance(this, DOMExceptionPrototype);\n  var argumentsLength = arguments.length;\n  var message = normalizeStringArgument(argumentsLength < 1 ? undefined : arguments[0]);\n  var name = normalizeStringArgument(argumentsLength < 2 ? undefined : arguments[1], 'Error');\n  var that = new NativeDOMException(message, name);\n  var error = new Error(message);\n  error.name = DOM_EXCEPTION;\n  defineProperty(that, 'stack', createPropertyDescriptor(1, clearErrorStack(error.stack, 1)));\n  inheritIfRequired(that, this, $DOMException);\n  return that;\n};\n\nvar DOMExceptionPrototype = $DOMException.prototype = NativeDOMException.prototype;\n\nvar ERROR_HAS_STACK = 'stack' in new Error(DOM_EXCEPTION);\nvar DOM_EXCEPTION_HAS_STACK = 'stack' in new NativeDOMException(1, 2);\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar descriptor = NativeDOMException && DESCRIPTORS && Object.getOwnPropertyDescriptor(global, DOM_EXCEPTION);\n\n// Bun ~ 0.1.1 DOMException have incorrect descriptor and we can't redefine it\n// https://github.com/Jarred-Sumner/bun/issues/399\nvar BUGGY_DESCRIPTOR = !!descriptor && !(descriptor.writable && descriptor.configurable);\n\nvar FORCED_CONSTRUCTOR = ERROR_HAS_STACK && !BUGGY_DESCRIPTOR && !DOM_EXCEPTION_HAS_STACK;\n\n// `DOMException` constructor patch for `.stack` where it's required\n// https://webidl.spec.whatwg.org/#es-DOMException-specialness\n$({ global: true, constructor: true, forced: IS_PURE || FORCED_CONSTRUCTOR }, { // TODO: fix export logic\n  DOMException: FORCED_CONSTRUCTOR ? $DOMException : NativeDOMException\n});\n\nvar PolyfilledDOMException = getBuiltIn(DOM_EXCEPTION);\nvar PolyfilledDOMExceptionPrototype = PolyfilledDOMException.prototype;\n\nif (PolyfilledDOMExceptionPrototype.constructor !== PolyfilledDOMException) {\n  if (!IS_PURE) {\n    defineProperty(PolyfilledDOMExceptionPrototype, 'constructor', createPropertyDescriptor(1, PolyfilledDOMException));\n  }\n\n  for (var key in DOMExceptionConstants) if (hasOwn(DOMExceptionConstants, key)) {\n    var constant = DOMExceptionConstants[key];\n    var constantName = constant.s;\n    if (!hasOwn(PolyfilledDOMException, constantName)) {\n      defineProperty(PolyfilledDOMException, constantName, createPropertyDescriptor(6, constant.c));\n    }\n  }\n}\n"],"names":["render","_vm","this","_c","_self","href","staticClass","attrs","vertical","size","requiresAuth","id","on","handleAuthButton","_v","_s","$i18n","t","_e","hasDownloadButton","_g","_b","downloadProps","downloadEvents","loading","browserCanOpenFile","buttonText","copyButtonText","hasShowButton","show","isThumbnail","$t","_l","actions","action","key","onClick","btnOptions","icon","tag","text","auth","length","method","i","startAuth","staticRenderFns","ActionPlugin","constructor","component","uri","URI","toString","target","BIconBoxArrowUpRight","AssetActionPlugin","asset","super","CopcViewer","isBrowserProtocol","type","addQuery","i18n","service","GeoJsonIo","geojsonMediaType","name","components","AuthSchemeItem","BIconDownload","BIconEye","BIconLock","BListGroup","BPopover","BSpinner","CopyButton","Description","Metadata","props","data","Object","required","isAsset","Boolean","default","String","shown","Array","computed","mapState","mapGetters","isLoggedIn","entries","AssetActions","LinkActions","map","plugin","filter","canShow","tileRendererType","imageMediaTypes","includes","isGdalVfs","mapMediaTypes","useAltDownloadMethod","click","event","preventDefault","altDownload","filename","parsedHref","download","window","isSecureContext","toUpperCase","Utils","headers","requestHeaders","protocol","match","toLowerCase","browserProtocols","isArray","roles","rel","canBrowserDisplayImage","isGdalVfsUri","baseUrl","context","STAC","getAbsoluteUrl","getRequestUrl","e","from","protocolName","where","source","what","methods","location","StreamSaver","require","origin","path","removeTrailingSlash","pathPrefix","mitm","link","assign","options","stacRequestOptions","$store","url","body","res","fetch","status","msg","Error","contentDisposition","get","parts","fileStream","createWriteStream","addEventListener","abort","evt","pipeTo","error","DOMException","commit","domain","$te","$emit","AuthUtils","isSupported","state","dispatch","authConfig","message","$root","_defineProperty","obj","value","defineProperty","enumerable","configurable","writable","flush","horizontal","functional","h","_ref","children","componentData","class","concat","definition","module","exports","global","HTMLElement","console","warn","mitmTransporter","supportsTransferable","test","fn","ponyfill","WebStreamsPolyfill","useBlobFallback","safari","WebKitPoint","downloadStrategy","document","documentElement","style","streamSaver","WritableStream","supported","version","full","major","minor","dot","makeIframe","src","iframe","createElement","hidden","loaded","isIframe","postMessage","args","contentWindow","once","appendChild","makePopup","delegate","createDocumentFragment","popup","frame","open","isPopup","remove","close","dispatchEvent","removeEventListener","onReady","Event","Response","ReadableStream","navigator","err","loadTransporter","opts","pathname","writableStrategy","undefined","readableStrategy","bytesWritten","downloadUrl","channel","ts","Number","isFinite","highWaterMark","MessageChannel","encodeURIComponent","replace","escape","response","transferringReadable","Math","random","slice","port2","transformer","transform","chunk","controller","Uint8Array","TypeError","enqueue","TransformStream","readableStream","readable","port1","onmessage","chunks","write","push","blob","Blob","URL","createObjectURL","mc","isPossiblePrototype","$String","$TypeError","argument","isPrototypeOf","it","Prototype","TO_STRING_TAG_SUPPORT","isCallable","classofRaw","wellKnownSymbol","TO_STRING_TAG","$Object","CORRECT_ARGUMENTS","arguments","tryGet","O","result","callee","IndexSizeError","s","c","m","DOMStringSizeError","HierarchyRequestError","WrongDocumentError","InvalidCharacterError","NoDataAllowedError","NoModificationAllowedError","NotFoundError","NotSupportedError","InUseAttributeError","InvalidStateError","SyntaxError","InvalidModificationError","NamespaceError","InvalidAccessError","ValidationError","TypeMismatchError","SecurityError","NetworkError","AbortError","URLMismatchError","QuotaExceededError","TimeoutError","InvalidNodeTypeError","DataCloneError","uncurryThis","$Error","TEST","arg","stack","V8_OR_CHAKRA_STACK_ENTRY","IS_V8_OR_CHAKRA_STACK","dropEntries","prepareStackTrace","aCallable","object","getOwnPropertyDescriptor","isObject","setPrototypeOf","$this","dummy","Wrapper","NewTarget","NewTargetPrototype","prototype","$default","uncurryThisAccessor","requireObjectCoercible","aPossiblePrototype","setter","CORRECT_SETTER","proto","__proto__","classof","$","getBuiltIn","createPropertyDescriptor","hasOwn","anInstance","inheritIfRequired","normalizeStringArgument","DOMExceptionConstants","clearErrorStack","DESCRIPTORS","IS_PURE","DOM_EXCEPTION","NativeDOMException","$DOMException","DOMExceptionPrototype","argumentsLength","that","ERROR_HAS_STACK","DOM_EXCEPTION_HAS_STACK","descriptor","BUGGY_DESCRIPTOR","FORCED_CONSTRUCTOR","forced","PolyfilledDOMException","PolyfilledDOMExceptionPrototype","constant","constantName"],"sourceRoot":""}